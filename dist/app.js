(()=>{"use strict";({forecast:{today:{},tomorrow:{},dayAfterTomorrow:{}},getData:async function(t){const e=await fetch(`http://api.weatherapi.com/v1/forecast.json?key=baccad5e87644ed197c133503233005&q=${t}&days=3`);if(!e.ok)throw new Error(e.status);const o=await e.json();this.cityName=o.location.name,this.currentTemp=o.current.temp_c,this.currentCondIcon=o.current.condition.icon,this.currentCondText=o.current.condition.text,this.isDayNow=o.current.is_day;const a=o.forecast.forecastday;this.dayAfterTomorrow=function(t){const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=new Date(t).getDay();return e[o+2]||e[o-5]}(o.location.localtime),this.forecast.today.maxtemp=a[0].day.maxtemp_c,this.forecast.today.mintemp=a[0].day.mintemp_c,this.forecast.today.condIcon=a[0].day.condition.icon,this.forecast.tomorrow.maxtemp=a[1].day.maxtemp_c,this.forecast.tomorrow.mintemp=a[1].day.mintemp_c,this.forecast.tomorrow.condIcon=a[1].day.condition.icon,this.forecast.dayAfterTomorrow.maxtemp=a[2].day.maxtemp_c,this.forecast.dayAfterTomorrow.mintemp=a[2].day.mintemp_c,this.forecast.dayAfterTomorrow.condIcon=a[2].day.condition.icon,this.feelsLike=o.current.feelslike_c+"",this.chanceOfPrecip=function(t,e){const o=new Date(e),a=t.slice(o.getHours());let c=0,r=0;for(const t of a)t.chance_of_rain>c&&(c=t.chance_of_rain),t.chance_of_snow>r&&(r=t.chance_of_snow);const n=a[0].temp_c<=0;return c>r?"Chance of rain: "+c+"%":c<r?"Chance of snow: "+r+"%":0===c&&0===r?n?"Chance of snow: 0%":"Chance of rain: 0%":void 0}(o.forecast.forecastday[0].hour,o.location.localtime),this.visibility=o.current.vis_km+" km",this.airPressure=o.current.pressure_mb+" mbar",this.windSpeed=o.current.wind_kph.toFixed(0)+" km/h",this.windDegree=o.current.wind_degree,this.humidity=o.current.humidity+"%",this.uvLevel=function(t){let e="";switch(!0){case t<4:e="low";break;case t>=4&&t<=7:e="moderate";break;case t>7:e="high";break;default:e="?"}return e}(o.current.uv)}}).getData("Tbilisi").then().catch((t=>{console.log("ðŸ™‚",t)}))})();